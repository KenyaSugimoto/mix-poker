# Mixゲームアプリ開発

## アプリ概要
- プロダクト名: Mixゲームアプリ(仮)
- 一言設営: 複数のポーカールールに対応したMixゲームアプリ
- ターゲットユーザー: ポーカー愛好者、特にMixゲームやHORSEゲームを楽しみたいプレイヤー
- 解決する課題: 現在Mixゲームに対応しているアプリが少なく、プレイヤーがMixゲームを楽しむ機会が限られている。このアプリは、Mixゲームを手軽に楽しめる環境を提供することで、プレイヤーの満足度を向上させる。
- 想定プラットフォーム: Webアプリ (スマホ・PC対応)

## 必須機能要件
1. 複数ゲーム対応
   - 複数のポーカールールに対応 (例: Hold'em, Omaha, Razz, Stud, Drawなど)
	 - ゲームの切り替え機能
  	 - 6ハンドごとにゲームを自動で切り替え
	 - 各ゲームのルールに基づいた進行管理
	 - 各ゲームのベッティングラウンドやアクションを適切に管理
2. ゲーム設定が可能
   - ゲーム種目選択
     - 複数種目選択可能
   - プレイヤー人数設定 (2~7人)
   - ブラインド設定
3. ゲーム進行管理
	 - ブラインド管理
  	 - スモールブラインド、ビッグブラインドの設定と管理
	 - カード配布管理
  	 - 各ゲームに応じたカード配布ルールの実装
  	 - ランダムなカードシャッフルと配布
	 - ベッティングラウンド管理
     - ベット、コール、レイズ、フォールドなどのアクション管理
	 - 各ゲーム固有の進行ルールに対応
  	 - Stud系ゲームはストリートごとに最初にアクションするプレイヤーを判定
	 - 勝者判定
  	 - 各ゲームの勝者判定ロジックの実装
4. チップ管理
	 - 各プレイヤーのスタック管理
	 - ポット管理
	 - ラウンド終了時の正確なチップ配分
  	 - split pot対応
  	 - チョップ対応
5. CPUプレイヤー対応
	 - 複数のCPUプレイヤーを実装
	 - CPUプレイヤーの基本的な戦略ロジック
6. ユーザーインターフェース
	 - 直感的で使いやすいUIデザイン
	 - ゲームテーブル表示
7. リロード耐性
	 - ページリロード時にゲーム状態を保持

## 画面の構成
- ゲーム設定画面
- メインゲーム画面

### ゲーム設定画面
	- ゲーム種類選択
  	- 種目は10Game種目を選択可能にする
    	- 複数選択可能
    	- 順番入れ替え可能
			- 対応できたものからenableにしていく
	- プレイヤー人数設定
  	- 2~7人まで選択可能
	- ブラインド設定
  	- 一旦固定値にする
    	- FL: 20-40 (SB-BB)
    	- Stud: 5-10-40-80 (ante-bring-complete(small bet)-big bet)
    	- PL/NL: 10-20-20 (SB-BB-BBAnte)
	- ゲーム開始ボタン

### メインゲーム画面
	- ゲームテーブル表示
  	- テーブルデザイン (共通)
    	- テーブル形状: 陸上競技場型 (長方形+両端半円)
			- プレイヤー座席配置
  			- プレイヤー人数によっていい感じに配置
  			- Heroプレイヤーは真ん中下固定 (時計の6時方向)
			- カード配布エリア
  			- 基本的にどのゲームもプレイヤーの前にカードを配布
			- コミュニティカードエリア
  			- 種目によって変化させる
    			- Hold'em/Omaha: テーブル中央
    			- Stud/Draw: なし
			- ポットエリア
			- チップの表示
  			- チップの額も表示
  			- チップを表示する箇所
    			- ポットエリア
    			- プレイヤー前 (betやcall分やポット獲得分)
			- ゲーム種目表示エリア
  			- 現在のゲーム種目を表示
  			- ラウンド数も表示 (例: Hold'em - Round 2)
	-	 ゲーム操作パネル
		- アクションボタン (Fold, Check, Call, Bet, Raise, bring-in, completeなど)
			- 種目によって変化させる
			- 有効なアクションのみ表示
	- プレイヤー情報表示 (スタック数)

## 使用技術
- フロントエンド: Vite + React
  - スタイリング: Tailwind CSS
  - 状態管理: Zustand
  - formatter: Biome
- テスト: Vitest
  - ユニットテスト中心
- デプロイ: Vercel
- GitHubでソースコード管理
  - PR作成時に自動でLintとテストを実行
  - PR作成時にgithub copilotのレビュー機能を活用


## 開発の目標・今後の方針
- HORSEゲームに対応させることを最初の大きな目標とする
- 将来的に10Gameや他のMixゲームにも対応させる
- 対人オンライン対戦機能の追加も検討する


## 直近では対応しないこと
- オンライン対戦機能
- 複雑なAIロジックの実装
- 詳細な統計情報の表示
- バックエンドサーバーの実装 (将来的に検討)
- ユーザーアカウント管理機能
- ログイン/サインアップ機能
- ハンド履歴の保存機能


## その他
- MVP (Minimum Viable Product) アプローチを採用し、まずは基本的なMixゲーム機能を実装することに注力する
- 個人開発を想定しているため、シンプルで効率的な実装を心がける
- ユーザーフィードバックを重視し、将来的な機能追加や改善に反映させる予定
- 設計書などのドキュメントは随時更新し、開発の進捗に合わせて内容を見直す
- 利用ライブラリなどのバージョンアップにも注意を払い、必要に応じて対応する
  - 主要ライブラリのバージョンアップは定期的に確認する (確認の自動化も検討)

