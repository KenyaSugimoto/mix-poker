
# 02_ルール仕様書.md

## 1. 基本方針
- 実際のポーカールールをベースにする
- 曖昧な部分は明示的に仕様として固定する

---

## 2. 共通ルール

### 2.1 プレイヤー人数
- **2〜7人**（Human 1 + CPU 1〜6）
- 上限7人の理由：7-Card Studでは最大7枚/人 × 8人 = 56枚 > 52枚でデッキ不足となるため (大型大会でも7Maxが一般的)

### 2.2 スタック・チップ
- 全員同額スタックでハンド開始
- チップの最小単位は **ante と同じ**
- 端数処理は切り捨て／四捨五入を行わず、最小単位で管理する

### 2.2 ベットルール
- betサイズは固定(Fix Limit)で行う
  - ante
  - bring-in
  - small bet (complete)
  - big bet
- betはそのストリートの最初の攻撃アクションのこと
- raiseは他プレイヤーからbetが入っているときに行う攻撃アクションのこと
- 1ストリートあたり **最大5bet cap**
  - 最初の bet を 1bet
  - 最初の raise を 2bet
  - 以降 3bet / 4bet / 5bet
- cap到達後は call / fold のみ可能

---

## 3. アクション定義（共通）

### 3.1 アクション種別
- ante
- bring-in
- complete
- bet
- raise
- call
- fold
- check

### 3.2 COMPLETE の扱い
- complete は **3rd Street において、そのストリートで初めて smallBet を成立させる攻撃アクション**で固定
- 他のサイズへのcompleteは存在しない
- 誰かがcompleteした後はcompleteはできない (raise / call / foldのみ)

### 3.3 3rdにおけるcheckの扱い
- 3rd Streetにおいては、checkは不可
- 例: P1, P2, P3の3名で下記のような順番でアクションがされた場合は、「全アクティブプレイヤーが同額を出した」とみなされ、4th Streetに進む
  - P1: bring-in
  - P2: call
  - P3: call

---

## 4. Stud系ゲーム共通仕様

### 4.1 ストリート構成
- 3rd Street（bring-inあり）
- 4th Street
- 5th Street
- 6th Street
- 7th Street

### 4.2 ベットサイズ
- 3rd / 4th Street：small bet
- 5th / 6th / 7th Street：big bet

---

## 5. Bring-in ルール
- 3rd Street開始時に bring-in 対象者を決定
- bring-in は必須アクション
  - bring-in / complete（smallBet） のみ選択可能
- bring-in 後は以下が可能
  - fold
  - call（bring-in額）
  - complete（smallBet）
- すでにcompleteしたプレイヤーがいる場合は以下が可能
  - call
  - fold
  - raise

---

## 6. ストリート終了条件（概要）
- 全アクティブプレイヤーが同額を出資した場合
- もしくは1人を除いて全員foldした場合
- 詳細は「状態設計書」にて定義する

---

## 7. ショーダウンと勝敗
- ゲーム種別ごとに役判定を行う
- Stud8等のHi/Loは別途仕様化
- ポット分配は後続ドキュメントで詳細定義

---

## 8. 未定義・後続検討項目
- ブラインドの詳細仕様
- 役判定ロジックの完全仕様
- ポット分配ロジックの完全仕様
- Mixローテーションの詳細（何ハンドごとに切替）

