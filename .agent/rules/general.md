---
title: Mix Poker - ルールインデックス（General Rules）
type: index
priority: 1
description: 全体のインデックスと探索型アプローチの指示。AIエージェントは最初にこのファイルを読み込む。
tags: [general, index, architecture, ai-guidelines]
---

# Mix Poker - ルールインデックス（General Rules）

## 🎯 このファイルの役割

**AIエージェントへの重要指示**: このファイルを最初に読み込み、タスクに応じて他のルールファイルを自律的に参照してください。

## 📋 ルールファイル構成

このプロジェクトのルールは以下の5つのファイルに分割されています：

1. **`general.mdc`** (このファイル): 全体のインデックスと探索型アプローチの指示
2. **`environment.mdc`**: 環境設定、ディレクトリ構造、実行コマンド
3. **`implementation.mdc`**: コーディング規約、設計指針、ライブラリのベストプラクティス
4. **`github.mdc`**: GitHub Issueの立て方、PDCAフロー、コミットメッセージ
5. **`requirements.mdc`**: プロジェクト固有の要件、ドメイン知識（ポーカー仕様）

## 🔍 探索型アプローチ（重要）

**全てのルールを常に読み込むのではなく、タスクに応じて必要なルールを選択的に読み込んでください。**

### ルール選択のガイドライン

- **環境設定・ビルド・実行に関する質問** → `environment.mdc` を参照
- **コード実装・設計・コーディング規約に関する質問** → `implementation.mdc` を参照
- **GitHub Issue作成・コミット・PDCAフローに関する質問** → `github.mdc` を参照
- **ポーカー仕様・ゲームルール・ドメイン知識に関する質問** → `requirements.mdc` を参照
- **不明な場合は** → まず `general.mdc` を確認し、適切なファイルを選択

## 📖 プロジェクト概要

Mix Pokerは、Stud Hi / Razz / Stud8の3種類のポーカーゲームをサポートするWebアプリケーションです。
React + TypeScript + Viteで構築され、クリーンアーキテクチャの原則に従っています。

## 🏗️ アーキテクチャ原則（最重要）

### 依存方向の厳守
```
ui → app(store/actions) → domain
```

- `domain/` は **React / Zustand / localStorage を一切知らない**
- `ui/` は **ゲームロジックを持たない**
- `app/` は UI と domain の橋渡し役

### State管理の原則
- Gameの正：`GameState`
- Deal進行の正：`DealState`
- 永続化の正：`saveAppState()` を呼んだ結果
- 同じ意味のデータを複数箇所に持たない

## 🤖 AI駆動開発のガイドライン

### AIに依頼するときのテンプレ
- どの層か（ui / store / domain）
- pure function かどうか
- 副作用の有無
- テスト対象かどうか

### AIに任せやすい領域
- JSX構造、レイアウト、表示条件分岐
- store action の雛形、selector定義
- テストケースの網羅列挙、Given/When/Then構造の整理

### AIに任せない判断
- 状態の正がどこか
- 永続化タイミング
- ルール解釈（ポーカー仕様）

これらは **人間が決めてドキュメント化**し、AIには従わせる。

## 📚 ドキュメント参照

詳細な設計仕様は `docs/mvp/` ディレクトリを参照してください。
特に重要なドキュメント:
- `開発方針・ベストプラクティス（AI駆動開発）.md`: 技術スタックの詳細な使い方
- `03_状態設計書.md`: GameState/DealStateの構造
- `04_イベント設計書.md`: イベント駆動の設計

## 🔄 知見蓄積サイクル（RuleOps）

**重要**: ユーザーとのやり取りを通じて、エラーの解決策や効率的な実装方法などの新しい知見が得られた場合、回答の最後に必ず以下を提案してください：

1. **知見のまとめ**: 今回得られた知見やベストプラクティスを簡潔にまとめる
2. **ルール更新案**: どのルールファイルのどのセクションを更新すべきか、具体的な更新内容を提案する

これにより、プロジェクトのルールが継続的に改善され、AIの支援精度が向上します。

## 🌐 言語設定

- プロジェクトは日本語で開発されています
- コードコメント、テスト、ドキュメントは日本語で記述
- 型定義や変数名は英語で記述（TypeScriptの慣習に従う）
